<!DOCTYPE html><html lang="de"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1"><title>AWS版Misskeyインストール方法詳説</title><!--*
*
* GitHub: https://github.com/joinmisskey
*
*--><link rel="canonical" href="https://join.misskey.page/de/wiki/developers/installation/aws"><link rel="alternate" hreflang="ja" href="https://join.misskey.page/ja/wiki/developers/installation/aws"><link rel="alternate" hreflang="en" href="https://join.misskey.page/en/wiki/developers/installation/aws"><link rel="alternate" hreflang="fr" href="https://join.misskey.page/fr/wiki/developers/installation/aws"><link rel="alternate" hreflang="de" href="https://join.misskey.page/de/wiki/developers/installation/aws"><meta name="author" content="Misskey"><meta name="generator" content="maqz"><meta name="robots" content="noindex,follow"><meta name="description" content="Amazon Web Service (AWS)でMisskeyを動作させる方法の一例を紹介。"><link rel="manifest" href="/manifest.json"><link rel="alternate" type="application/atom+xml" title="joinmisskey" href="https://join.misskey.page/feed.atom"><link rel="alternate" type="application/rss+xml" title="joinmisskey" href="https://join.misskey.page/feed.rss"><link rel="alternate" type="application/json" title="joinmisskey" href="https://join.misskey.page/feed.json"><link rel="preload" href="https://cdn.jsdelivr.net/gh/tamaina/The-Japanese-Web-Fonts@v7.2.0/dist/mplus-c/mplus-c-light.latain.woff2" as="font" crossorigin><link rel="preload" href="https://cdn.jsdelivr.net/gh/tamaina/The-Japanese-Web-Fonts@v7.2.0/dist/mplus-p/mplus-p-regular.latain.woff2" as="font" crossorigin><link rel="preload" href="https://cdn.jsdelivr.net/gh/tamaina/The-Japanese-Web-Fonts@v7.2.0/dist/mplus-p/mplus-p-bold.latain.woff2" as="font" crossorigin><link rel="preload" href="/assets/styles/fonts.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.0/animate.min.css" as="style"><link rel="preload" href="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" as="script"><script id="page_variables">var pathname = "/";
var currentLocale = "de";
var locales = ["ja","en","fr","de"];
var permalink = "/wiki/developers/installation/aws";
var gaId = "UA-121612835-1";
var jm_pathToWorker = "https://join.misskey.page/service_worker.js"
</script><script src="/assets/scripts/sw.js" async></script><script src="/assets/scripts/bootstrap.js" async></script><script src="/assets/scripts/main.js" async></script><script src="https://www.googletagmanager.com/gtag/js?id=UA-121612835-1" async></script><link rel="stylesheet" href="/assets/styles/main.css"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: "ca-pub-1736621122676736",
  enable_page_level_ads: true,
  overlays: { bottom: true }
});
</script><link rel="icon" href="/favicon.ico" type="image/vnd.microsoft.icon"><link rel="apple-touch-icon" href="/files/images/imports/2020/03/icon-2.svg?v=undefined" sizes="192x192"><link rel="icon" href="/files/images/imports/2020/03/icon-2.svg?v=undefined" sizes="192x192" type="image/svg+xml"><link rel="apple-touch-icon" href="/files/images/imports/2020/03/icon-2-maskable.svg?v=undefined" sizes="192x192"><link rel="icon" href="/files/images/imports/2020/03/icon-2-maskable.svg?v=undefined" sizes="192x192" type="image/svg+xml"><link rel="apple-touch-icon" href="/files/images/imports/2020/03/icon-2.svg?v=undefined" sizes="1200x1200"><link rel="icon" href="/files/images/imports/2020/03/icon-2.svg?v=undefined" sizes="1200x1200" type="image/svg+xml"><link rel="apple-touch-icon" href="/files/images/imports/2020/03/icon-2-maskable.svg?v=undefined" sizes="1200x1200"><link rel="icon" href="/files/images/imports/2020/03/icon-2-maskable.svg?v=undefined" sizes="1200x1200" type="image/svg+xml"><link rel="apple-touch-icon" href="/files/images/imports/2020/03/icon-2-maskable.360.png?v=undefined" sizes="360x360"><link rel="icon" href="/files/images/imports/2020/03/icon-2-maskable.360.png?v=undefined" sizes="360x360" type="image/png"><link rel="apple-touch-icon" href="/files/images/imports/2020/03/icon-2-maskable.720.png?v=undefined" sizes="720x720"><link rel="icon" href="/files/images/imports/2020/03/icon-2-maskable.720.png?v=undefined" sizes="720x720" type="image/png"><link rel="apple-touch-icon" href="/files/images/imports/2020/03/icon-2-maskable.png?v=undefined" sizes="1200x1200"><link rel="icon" href="/files/images/imports/2020/03/icon-2-maskable.png?v=undefined" sizes="1200x1200" type="image/png"><meta name="theme-color" content="#86b300"><meta property="og:type" content="website"><meta property="og:title" content="AWS版Misskeyインストール方法詳説"><meta property="og:description" content="Amazon Web Service (AWS)でMisskeyを動作させる方法の一例を紹介。"><meta property="og:image" content="https://join.misskey.page/files/images/imports/2019/10/thumb.png?v=undefined"><meta property="og:url" content="https://join.misskey.page/de/wiki/developers/installation/aws"><meta property="og:site_name" content="Lass uns anfangen, Misskey zu verwenden"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://join.misskey.page/files/images/imports/2019/10/thumb.png?v=undefined"><meta name="twitter:title" content="AWS版Misskeyインストール方法詳説"><meta name="twitter:description" content="Amazon Web Service (AWS)でMisskeyを動作させる方法の一例を紹介。"><meta name="twitter:site" content="misskey_io"></head><body><div id="nav"><nav class="navbar navbar-expand-md navbar-light flex-row p-0" id="mainnav"><button class="navbar-toggler" data-toggle="collapse" data-target="#navtoggle" aria-controls="navtoggle" aria-expanded="false" aria-label="Toggle navigation"><i class="fa fas bars" data-fa-prefix="fas" data-fa-icon-name="bars" data-fa-option="{}"></i></button><div class="collapse navbar-collapse" id="navtoggle"><ul class="navbar-nav mr-auto mt-lg-0 ml-3 ml-md-0"><li class="nav-item px-md-3"><a class="nav-link" href="/de/"><i class="fa fas home" data-fa-prefix="fas" data-fa-icon-name="home" data-fa-option="{'classes':['fa-fw']}"></i><span class="d-inline d-md-none d-lg-inline">&ensp;Startseite</span></a></li><li class="nav-item px-md-3"><a class="nav-link" href="/de/wiki/instances/"><i class="fa fas server" data-fa-prefix="fas" data-fa-icon-name="server" data-fa-option="{'classes':['fa-fw']}"></i><span class="d-inline d-md-none d-lg-inline">&ensp;Instanzen</span></a></li><li class="nav-item px-md-3"><a class="nav-link" href="/de/blog/"><i class="fa fas broadcast-tower" data-fa-prefix="fas" data-fa-icon-name="broadcast-tower" data-fa-option="{'classes':['fa-fw']}"></i><span class="d-inline d-md-none d-lg-inline">&ensp;Blog</span></a></li><li class="nav-item px-md-3 active"><a class="nav-link" href="/de/wiki/"><i class="fa fas book" data-fa-prefix="fas" data-fa-icon-name="book" data-fa-option="{'classes':['fa-fw']}"></i><span class="d-inline d-md-none d-lg-inline">&ensp;Wiki</span></a></li></ul><div class="input-group flex-nowrap" id="search"><input class="form-control" id="searchInput" type="search" placeholder="Suchbegriff eingeben" aria-label="Suche"><div class="input-group-append flex-grow-0 flex-shrink-0"><button class="btn btn-primary" id="searchButton"><i class="fa fas search" data-fa-prefix="fas" data-fa-icon-name="search" data-fa-option="{'classes':['fa-fw']}"></i> Suche</button></div></div></div><div class="dropleft"><button class="btn btn-outline-primary dropdown-toggle" type="button" id="locale_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">A文</button><div class="dropdown-menu m-2" aria-labelledby="locale_dropdown"><button class="nihongo dropdown-item" data-lang="ja">日本語</button><button class="nihongo dropdown-item" data-lang="en">English</button><button class="nihongo dropdown-item" data-lang="fr">Français</button><button class="nihongo dropdown-item" data-lang="de">Deutsch</button></div></div></nav><nav class="bg-transparent" aria-label="breadcrumb" id="breadcrumb"><div class="container-fulid px-1 px-lg-5"><ol class="breadcrumb bg-transparent text-primary my-0 mx-md-5 mx-1 py-1 px-0" vocab="https://schema.org/" typeof="BreadcrumbList"><li class="breadcrumb-item" property="itemListElement" typeof="ListItem"><a class="text-primary" href="/de/" property="item" typeof="WebPage"><i class="fa fas home" data-fa-prefix="fas" data-fa-icon-name="home" data-fa-option="{'classes':['fa-fw']}"></i><span class="sr-only" property="name">Lass uns anfangen, Misskey zu verwenden</span></a><meta property="position" content="1"></li><li class="breadcrumb-item" property="itemListElement" typeof="ListItem"><a class="text-primary" href="/de/wiki/" property="item" typeof="WebPage"><span property="name">Wiki</span></a><meta property="position" content="2"></li><li class="breadcrumb-item" property="itemListElement" typeof="ListItem"><a class="text-primary" href="/de/wiki/developers/" property="item" typeof="WebPage"><span property="name">開発者・運営者向け情報</span></a><meta property="position" content="3"></li><li class="breadcrumb-item" property="itemListElement" typeof="ListItem"><a class="text-primary" href="/de/wiki/developers/installation/" property="item" typeof="WebPage"><span property="name">Misskeyインストール方法詳説</span></a><meta property="position" content="4"></li><li class="breadcrumb-item active" property="itemListElement" typeof="ListItem"><a class="text-dark font-weight-bold trigger-gototop button-like-anchor" aria-current="page" href="https://join.misskey.page/de/wiki/developers/installation/aws" property="item" typeof="WebPage"><span property="name">AWS</span></a><meta property="position" content="5"></li></ol></div></nav></div><div class="padding row" id="main"><div class="sade-outer d-none d-xl-block col-xl-3 order-1"><ins class="adsbygoogle p-0 sade d-none d-xl-block" style="display:block;" data-ad-client="ca-pub-1736621122676736" data-ad-slot="2773092095" data-ad-format="vertical" data-full-width-responsive="false"></ins></div><div class="p-0 col-12 px-xl-3 col-xl-9 order-0"><div class="container pt-5 pb-3 mb-2 bg-white main-shadow"><article class="bg-white" id="article_maincontent"><header class="w-100"><h1>AWS版Misskeyインストール方法詳説</h1></header><div class="my-2 p-3 bg-light" id="article_sidenav"><details><summary class="font-weight-bold">目次</summary><ul class="list-unstyled ml-3 page-index m-0 p-0"><li><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB">はじめに</a></li><li><a href="#%E6%A7%8B%E6%88%90%E3%81%A8%E6%9D%A1%E4%BB%B6">構成と条件</a></li><li><a href="#nano%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9">nanoの使い方</a></li><li><a href="#AWS%E3%81%AB%E3%82%B5%E3%82%A4%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97">AWSにサインアップ</a></li><li><a href="#%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90">セキュリティグループの作成</a></li><li><a href="#VPC%E3%82%92IPv6%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%95%E3%81%9B%E3%82%8B">VPCをIPv6に対応させる</a></li><ul class="list-unstyled ml-3 page-index"><li><a href="#IPv6%20CIDR%20%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%92%20VPC%20%E3%81%8A%E3%82%88%E3%81%B3%E3%82%B5%E3%83%96%E3%83%8D%E3%83%83%E3%83%88%E3%81%A8%E9%96%A2%E9%80%A3%E4%BB%98%E3%81%91%E3%82%8B">IPv6 CIDR ブロックを VPC およびサブネットと関連付ける</a></li><ul class="list-unstyled ml-3 page-index"><li><a href="#VPC">VPC</a></li><li><a href="#%E3%82%B5%E3%83%96%E3%83%8D%E3%83%83%E3%83%88">サブネット</a></li></ul><li><a href="#Egress%20Only%20%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%8D%E3%83%83%E3%83%88%E3%82%B2%E3%83%BC%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A4%E3%81%AE%E4%BD%9C%E6%88%90">Egress Only インターネットゲートウェイの作成</a></li><li><a href="#%E3%83%AB%E3%83%BC%E3%83%88%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%82%92%E6%9B%B4%E6%96%B0">ルートテーブルを更新</a></li></ul><li><a href="#RDS%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E4%BD%9C%E6%88%90">RDSインスタンスの作成</a></li><li><a href="#ElastiCache%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E4%BD%9C%E6%88%90">ElastiCacheインスタンスの作成</a></li><ul class="list-unstyled ml-3 page-index"><ul class="list-unstyled ml-3 page-index"><li><a href="#%E3%82%B5%E3%83%96%E3%83%8D%E3%83%83%E3%83%88%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97">サブネットグループ</a></li><li><a href="#%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97">セキュリティグループ</a></li></ul></ul><li><a href="#S3%E3%83%90%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E6%BA%96%E5%82%99">S3バケットの準備</a></li><ul class="list-unstyled ml-3 page-index"><li><a href="#IAM%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90">IAMユーザーの作成</a></li><li><a href="#%E3%83%90%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90">バケットの作成</a></li><ul class="list-unstyled ml-3 page-index"><li><a href="#%E5%90%8D%E5%89%8D%E3%81%A8%E3%83%AA%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3">名前とリージョン</a></li><li><a href="#%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E8%A8%AD%E5%AE%9A">オプションの設定</a></li><li><a href="#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E8%A8%B1%E5%8F%AF%E3%81%AE%E8%A8%AD%E5%AE%9A">アクセス許可の設定</a></li><li><a href="#%E7%A2%BA%E8%AA%8D">確認</a></li></ul><li><a href="#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90">アクセスポイントの作成</a></li></ul><li><a href="#CloudFront%E3%83%87%E3%82%A3%E3%82%B9%E3%83%88%E3%83%AA%E3%83%93%E3%83%A5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90">CloudFrontディストリビューションの作成</a></li><li><a href="#EC2%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E6%BA%96%E5%82%99">EC2インスタンスの準備</a></li><ul class="list-unstyled ml-3 page-index"><li><a href="#IPv6%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%95%E3%81%9B%E3%82%8B">IPv6に対応させる</a></li><li><a href="#%E3%83%AD%E3%83%BC%E3%83%89%E3%83%90%E3%83%A9%E3%83%B3%E3%82%B5%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90">ロードバランサーの作成</a></li><ul class="list-unstyled ml-3 page-index"><li><a href="#1%3A%20%E3%83%AD%E3%83%BC%E3%83%89%E3%83%90%E3%83%A9%E3%83%B3%E3%82%B5%E3%83%BC%E3%81%AE%E8%A8%AD%E5%AE%9A">1: ロードバランサーの設定</a></li><li><a href="#2%3A%20%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E5%AE%9A%E3%81%AE%E6%A7%8B%E6%88%90">2: セキュリティ設定の構成</a></li><li><a href="#3%3A%20%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E8%A8%AD%E5%AE%9A">3: セキュリティグループの設定</a></li><li><a href="#4%3A%20%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%AE%E8%A8%AD%E5%AE%9A">4: ルーティングの設定</a></li><li><a href="#5%3A%20%E3%82%BF%E3%83%BC%E3%82%B2%E3%83%83%E3%83%88%E3%81%AE%E7%99%BB%E9%8C%B2">5: ターゲットの登録</a></li><li><a href="#6%3A%20%E7%A2%BA%E8%AA%8D">6: 確認</a></li><li><a href="#DNS%E3%82%92%E8%A8%AD%E5%AE%9A">DNSを設定</a></li></ul><li><a href="#SSH%E3%81%A7%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B">SSHで接続する</a></li><li><a href="#Node.js">Node.js</a></li><li><a href="#Git%E3%81%9D%E3%81%AE%E4%BB%96">Gitその他</a></li><li><a href="#ffmpeg">ffmpeg</a></li></ul><li><a href="#Misskey%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">Misskeyのインストール</a></li><ul class="list-unstyled ml-3 page-index"><li><a href="#npm%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">npmパッケージのインストール</a></li><li><a href="#default.yml%E3%82%92%E4%BD%9C%E6%88%90">default.ymlを作成</a></li><li><a href="#Misskey%E3%81%AE%E3%83%93%E3%83%AB%E3%83%89">Misskeyのビルド</a></li><li><a href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E5%88%9D%E6%9C%9F%E5%8C%96">データベースの初期化</a></li><li><a href="#Misskey%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B">Misskeyを起動する</a></li><li><a href="#S3%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B">S3を設定する</a></li><li><a href="#Misskey%E3%81%AE%E3%83%87%E3%83%BC%E3%83%A2%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90">Misskeyのデーモンを作成</a></li></ul><li><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E7%A8%AE%E3%80%85%E3%81%AE%E8%A8%AD%E5%AE%9A">インスタンスの種々の設定</a></li></ul></details></div><section class="pt-2 pb-4"><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h2 id="%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB" class="blogstyle">はじめに</h2><p>この記事では、<a href="https://github.com/syuilo/misskey/blob/master/docs/setup.ja.md" target="_blank" rel="noopener">リポジトリに同梱されている『Misskey構築の手引き』 (setup.md)<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>を基に、AWSでMisskeyをインストールし公開する方法の一挙手一投足を解説する。</p><p>大まかな流れは上の<strong>目次</strong>をクリックし展開することで確認できる。</p><p>この記事では、具体性を重視し、特定の環境に特化した記述をしている。<br>OSの違い、Misskey本体や依存するソフトウェアのバージョンアップで変わってしまった部分等あるかもしれないが、ご容赦願いたい。</p><p>わからない単語については、<a href="https://wa3.i-3-i.info/" target="_blank" rel="noopener">『「分かりそう」で「分からない」でも「分かった」気になれるIT用語辞典』<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>で調べて分かった気になってほしい。</p><p>なお、今回の記事にあたっては、AWSの無料利用枠でできる範囲で検証を行った。</p><h2 id="%E6%A7%8B%E6%88%90%E3%81%A8%E6%9D%A1%E4%BB%B6" class="blogstyle">構成と条件</h2><ul><li>EC2、RDS、ElastiCache、S3およびCloudFrontを利用する。</li><li>アベイラビリティゾーンは<code class="language-javascript">ap<span class="token operator">-</span>northeast<span class="token operator">-</span><span class="token number">1</span>a</code>とする。</li><li>独自のドメインを購入する。<ul><li>ドメインは<a href="https://domains.google/intl/ja_jp/" target="_blank" rel="noopener">Google Domains<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>などで予め用意しておくこと。</li><li>ここではドメインを<code class="language-javascript">example<span class="token punctuation">.</span>tld</code>として解説を進めるので、自分が買ったドメインに適宜置き換えて読むこと。</li></ul></li></ul><h2 id="nano%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9" class="blogstyle">nanoの使い方</h2><p>今回はテキストエディターにnanoを使う。次のように起動する。</p><pre class="language-javascript"><code class="language-bash">nano <span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">/</span>file
</code></pre><p>一般的な矢印ボタンや<kbd>Home</kbd>/<kbd>End</kbd>などを利用してカーソルを移動できる。</p><p>終了は<kbd>Ctrl+X</kbd>で、変更を保存するか聞かれた場合<kbd>Y</kbd>(Yes)を入力し<kbd>Enter</kbd>すると保存できる。</p><p>下部にコマンド一覧が表示されるので、<code class="language-javascript"><span class="token operator">^</span></code>を<kbd>Ctrl</kbd>、<code class="language-javascript"><span class="token constant">M</span><span class="token operator">-</span></code>を<kbd>Alt</kbd>と読み替えて参考にしよう。</p><h2 id="AWS%E3%81%AB%E3%82%B5%E3%82%A4%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97" class="blogstyle">AWSにサインアップ</h2><p>まずは<a href="https://aws.amazon.com/jp/" target="_blank" rel="noopener">AWSのサイト<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>にアクセスし、サインアップしよう。</p><p>サインアップが完了したら、<a href="https://ap-northeast-1.console.aws.amazon.com/console/" target="_blank" rel="noopener"><strong>ここを開いてサインインする</strong><i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>。</p><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h2 id="%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">セキュリティグループの作成</h2><p>ローカルネットワークのみでアクセスできるようなセキュリティグループを作成する。</p><ol><li><a href="https://console.aws.amazon.com/ec2/home#SecurityGroups" target="_blank" rel="noopener">セキュリティグループの設定を開く<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a></li><li>[セキュリティグループの作成]を選択</li><li>以下のように記入</li></ol><ul><li>[セキュリティグループ名]、[説明]ともに<code class="language-javascript">local</code></li><li>[ルールの追加]を選択し、<ul><li>[タイプ]を<code class="language-javascript">全てのトラフィック</code>に</li><li>[CIDR、IP]に<code class="language-javascript"><span class="token number">172.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token operator">/</span><span class="token number">6</span></code></li></ul></li></ul><h2 id="VPC%E3%82%92IPv6%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%95%E3%81%9B%E3%82%8B" class="blogstyle">VPCをIPv6に対応させる</h2><p>AWSは標準ではIPv6に対応しないので、IPv6を設定する。</p><h3 id="IPv6%20CIDR%20%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%92%20VPC%20%E3%81%8A%E3%82%88%E3%81%B3%E3%82%B5%E3%83%96%E3%83%8D%E3%83%83%E3%83%88%E3%81%A8%E9%96%A2%E9%80%A3%E4%BB%98%E3%81%91%E3%82%8B" class="blogstyle">IPv6 CIDR ブロックを VPC およびサブネットと関連付ける</h3><h4 id="VPC" class="blogstyle">VPC</h4><ol><li><a href="https://console.aws.amazon.com/vpc/home#vpcs" target="_blank" rel="noopener">VPC一覧<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>を開く。</li><li>VPCを選択し、[アクション] - [CIDR の編集]と選択。</li><li>[IPv6 CIDR の追加]を選択。IPv6 CIDRブロックが追加されたら[閉じる]を選択。</li></ol><p><strong>ここでVPCのID（vpc-...）をメモしておくこと。</strong></p><h4 id="%E3%82%B5%E3%83%96%E3%83%8D%E3%83%83%E3%83%88" class="blogstyle">サブネット</h4><ol><li>画面左側のナビゲーションペインで[サブネット]を選択。</li><li>サブネットを選択し、[アクション] - [IPv6 CIDR の編集]と選択。</li><li>[IPv6 CIDR の追加]を選択。16進法2文字でサブネットのCIDRブロックを割り当て（記入例: 00, 01)。</li><li>[保存]を選択。VPC内の他のサブネットにも同様に繰り返す。</li></ol><h3 id="Egress%20Only%20%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%8D%E3%83%83%E3%83%88%E3%82%B2%E3%83%BC%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A4%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">Egress Only インターネットゲートウェイの作成</h3><ol><li>ナビゲーションペインで[Egress Only インターネットゲートウェイ]を選択。</li><li>[Egress Only インターネットゲートウェイの作成]を選択。</li><li>VPCを選択し[作成]を選択、さらに[閉じる]を選択。</li></ol><h3 id="%E3%83%AB%E3%83%BC%E3%83%88%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%82%92%E6%9B%B4%E6%96%B0" class="blogstyle">ルートテーブルを更新</h3><ul><li>ナビゲーションペインで[ルートテーブル]を選択し、ルートテーブルを選択。</li><li>[ルート]タブで[ルートの編集]を選択。</li><li>[ルートの追加]を選択。<ul><li>[送信先]に<code class="language-javascript"><span class="token operator">:</span><span class="token operator">:</span><span class="token operator">/</span><span class="token number">0</span></code>を指定</li><li>[ターゲット]を選択し、[Egress Only Internet Gateway] - <code class="language-javascript">eigw<span class="token operator">-</span>（英数字）</code>と選択。</li></ul></li><li>[ルートの保存]を選択、さらに[閉じる]を選択。</li></ul><p><small><a href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-migrate-ipv6.html#vpc-migrate-ipv6-cidr" target="_blank" rel="noopener">https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-migrate-ipv6.html#vpc-migrate-ipv6-cidr</a></small></p><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h2 id="RDS%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">RDSインスタンスの作成</h2><p><a href="https://console.aws.amazon.com/rds/" target="_blank" rel="noopener">RDSコンソール（https://console.aws.amazon.com/rds/）<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>を開き、[データベースの作成]を選択。<br>以下の設定で進める。</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">エンジン</td><td align="left">PostgreSQL *2</td></tr><tr><td align="left">バージョン</td><td align="left">11.5以上 *2</td></tr><tr><td align="left">テンプレート</td><td align="left">無料利用枠</td></tr><tr><td align="left">DB インスタンス識別子</td><td align="left">pg</td></tr><tr><td align="left">マスターユーザー名</td><td align="left">postgres</td></tr><tr><td align="left">マスターパスワード<br>パスワードを確認</td><td align="left">password *3</td></tr><tr><td align="left">ストレージの自動スケーリングを有効にする</td><td align="left">チェックを外す</td></tr><tr><td align="left">接続の<strong>追加の接続設定</strong></td><td align="left">（開く）</td></tr><tr><td align="left">VPC セキュリティグループ</td><td align="left">localを選択 （あればdefaultを削除）</td></tr><tr><td align="left">アベイラビリティーゾーン</td><td align="left">ap-northeast-1a</td></tr><tr><td align="left"><strong>追加設定</strong></td><td align="left">（開く）</td></tr><tr><td align="left">最初のデータベース名</td><td align="left">mk1</td></tr><tr><td align="left">バックアップ保持期間</td><td align="left">3日間</td></tr></tbody></table><p>*1: Aurora PostgreSQLでの動作は確認していないが、11.4以上であれば恐らく動くと思われる<br>*2: 無料利用枠で利用したい場合、エンジンをPostgreSQLにすると無料利用枠を選択できる<br>*3: 当然ながら自分で考えて設定すること</p><p>[データベースの作成]を選択。</p><p><code class="language-javascript">pg</code>を選択し、データベースを起動するまで待つ。</p><p>起動したら、エンドポイントをメモする。ここでは<code class="language-javascript">pg<span class="token punctuation">.</span>xxxxxxxx<span class="token punctuation">.</span>ap<span class="token operator">-</span>northeast<span class="token operator">-</span><span class="token number">1.</span>rds<span class="token punctuation">.</span>amazonaws<span class="token punctuation">.</span>com</code>として説明する。</p><h2 id="ElastiCache%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">ElastiCacheインスタンスの作成</h2><p><a href="https://console.aws.amazon.com/elasticache/" target="_blank" rel="noopener">ElastiCacheコンソール（https://console.aws.amazon.com/elasticache/）<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>を開き、[作成]を選択。</p><p>以下のように値を設定する。</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">クラスターエンジン</td><td align="left">Redis<br>クラスターモード無効</td></tr><tr><td align="left">名前</td><td align="left">redis</td></tr><tr><td align="left">ポート</td><td align="left">6379</td></tr><tr><td align="left">ノードのタイプ</td><td align="left">cache.t3.micro</td></tr><tr><td align="left">レプリケーション数</td><td align="left">0</td></tr></tbody></table><h4 id="%E3%82%B5%E3%83%96%E3%83%8D%E3%83%83%E3%83%88%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97" class="blogstyle">サブネットグループ</h4><p>（新規作成）</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">名前</td><td align="left">subnet</td></tr><tr><td align="left">サブネット</td><td align="left">全てにチェック</td></tr><tr><td align="left">優先アベイラビリティーゾーン</td><td align="left">ゾーンの選択 - ap-northeast-1a</td></tr></tbody></table><p>[作成]を選択。</p><p><code class="language-javascript">▶ redis</code>を選択し、<code class="language-javascript">プライマリエンドポイント</code>を確認。ここでは<code class="language-javascript">redis<span class="token punctuation">.</span>xxxxxx<span class="token punctuation">.</span><span class="token number">0001.</span>apne0<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>amazonaws<span class="token punctuation">.</span>com<span class="token operator">:</span><span class="token number">6379</span></code>であったものとして説明する。</p><h4 id="%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97" class="blogstyle">セキュリティグループ</h4><p>✏を選択し、<code class="language-javascript">local</code>にする。</p><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h2 id="S3%E3%83%90%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E6%BA%96%E5%82%99" class="blogstyle">S3バケットの準備</h2><h3 id="IAM%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">IAMユーザーの作成</h3><p><a href="https://console.aws.amazon.com/iam/home#/users$new" target="_blank" rel="noopener">IAM/ユーザーを追加<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>を開く。<br>以下のように設定する。</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">ユーザー名</td><td align="left">mks3</td></tr><tr><td align="left">アクセスの種類</td><td align="left">プログラムによるアクセスにチェック</td></tr></tbody></table><p>[次のステップ]を選択。</p><p>[既存のポリシーを直接アタッチ]を選択し、<code class="language-javascript">AmazonS3FullAccess</code>にチェック。<br>[次のステップ]へ。さらに[次のステップ]を選択。そして[ユーザーの作成]を選択。</p><p><strong>アクセスキー ID</strong>、および<strong>シークレットアクセスキー</strong>を表示し、メモしておく。</p><h3 id="%E3%83%90%E3%82%B1%E3%83%83%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">バケットの作成</h3><p><a href="https://s3.console.aws.amazon.com/s3/home" target="_blank" rel="noopener">S3コンソール<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>を開き、[+バケットを作成する]を選択。</p><h4 id="%E5%90%8D%E5%89%8D%E3%81%A8%E3%83%AA%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3" class="blogstyle">名前とリージョン</h4><p>以下のように設定する。</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">バケット名</td><td align="left">example.tld</td></tr><tr><td align="left">リージョン</td><td align="left">アジアパシフィック（東京）</td></tr></tbody></table><p>[次へ]を選択。</p><h4 id="%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E8%A8%AD%E5%AE%9A" class="blogstyle">オプションの設定</h4><p>何もすることはないので[次へ]を選択。</p><h4 id="%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E8%A8%B1%E5%8F%AF%E3%81%AE%E8%A8%AD%E5%AE%9A" class="blogstyle">アクセス許可の設定</h4><p>何もすることはないので[次へ]を選択。</p><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h4 id="%E7%A2%BA%E8%AA%8D" class="blogstyle">確認</h4><p>[バケットを作成]を選択。</p><h3 id="%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">アクセスポイントの作成</h3><p>example.tld を選択。[アクセスポイント]タブを開き、[+アクセスポイントを作成]を選択。<br>以下のように設定する。</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">アクセスポイント名</td><td align="left">s3ap</td></tr><tr><td align="left">リージョン</td><td align="left">アジアパシフィック（東京）</td></tr><tr><td align="left">VPC ID</td><td align="left">メモしておいたVPC IDを貼り付け</td></tr></tbody></table><p>[アクセスポイントを作成]を選択。</p><h2 id="CloudFront%E3%83%87%E3%82%A3%E3%82%B9%E3%83%88%E3%83%AA%E3%83%93%E3%83%A5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">CloudFrontディストリビューションの作成</h2><ol><li><a href="https://console.aws.amazon.com/cloudfront/home?region=ap-northeast-1#create-distribution" target="_blank" rel="noopener">CloudFrontディストリビューションの作成ウィザードを開始<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>する。</li><li>Webの[Get Started]を選択</li><li>次のように設定する</li></ol><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">Origin Domain Name</td><td align="left">example.tld.s3.amazonaws.com</td></tr><tr><td align="left">Restrict Bucket Access</td><td align="left">Yes</td></tr><tr><td align="left">Origin Access Identity</td><td align="left">Create a New Identity</td></tr><tr><td align="left">Grant Read Permissions on Bucket</td><td align="left">Yes, Update Bucket Policy</td></tr><tr><td align="left">Viewer Protocol Policy</td><td align="left">Redirect HTTP to HTTPS</td></tr><tr><td align="left">Object Caching</td><td align="left">Customize</td></tr><tr><td align="left">Minimum TTL</td><td align="left">31536000</td></tr><tr><td align="left">Maximum TTL</td><td align="left">315360000</td></tr><tr><td align="left">Default TTL</td><td align="left">315360000</td></tr><tr><td align="left">Compress Objects Automatically</td><td align="left">Yes</td></tr><tr><td align="left">Price Class</td><td align="left">Use U.S., Canada, Europe, Asia, Middle East and Africa</td></tr></tbody></table><p>ナビゲーションペインでDistributionsを選択し、作成されたディストリビューションの<strong>Domain name</strong>をメモしておく。ここでは<code class="language-javascript">xxxxxxxxxx<span class="token punctuation">.</span>cloudfront<span class="token punctuation">.</span>net</code>であるとする。</p><h2 id="EC2%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E6%BA%96%E5%82%99" class="blogstyle">EC2インスタンスの準備</h2><p>EC2インスタンスを作成しよう。</p><ol><li><a href="https://console.aws.amazon.com/ec2/v2/home#LaunchInstanceWizard" target="_blank" rel="noopener">インスタンスウィザードを開始<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>する。</li><li>右上の青い[選択]ボタンを選択。</li><li>無料枠ならデフォルトのt2.microを選択し、[次のステップ]を選択。</li><li>サブネットを<code class="language-javascript">ap<span class="token operator">-</span>northeast<span class="token operator">-</span><span class="token number">1</span>a</code>のに選択。</li><li>[起動]を選択。</li><li>[既存のキーペアの選択]のところを[新しいキーペアの選択]に変更し、キーペア名を入力。ここでは<code class="language-javascript">key</code>とする。</li><li>[キーペアのダウンロード]を選択。<code class="language-javascript">key<span class="token punctuation">.</span>pem</code>がダウンロードされるので確認する。</li><li>[インスタンスの作成]を選択。</li><li><code class="language-javascript">key<span class="token punctuation">.</span>pem</code>を<code class="language-javascript"><span class="token operator">%</span><span class="token constant">USERPROFILE</span><span class="token operator">%</span>\<span class="token punctuation">.</span>ssh</code>内に移動。</li><li>ブラウザに戻り、<code class="language-javascript">次のインスタンスの作成が開始されました<span class="token operator">:</span></code>に続くリンクを選択。</li></ol><h3 id="IPv6%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%95%E3%81%9B%E3%82%8B" class="blogstyle">IPv6に対応させる</h3><ol><li>[アクション]を選択し、[ネットワーキング]-[IP アドレスの管理]を選択。</li><li>ダイアログが出てきたら、<strong>IPv6 アドレス</strong>の[新しい IP の割り当て]を選択し、[更新する]を選択</li><li>[更新する]を選択し、さらに[キャンセル]を選択。</li></ol><h3 id="%E3%83%AD%E3%83%BC%E3%83%89%E3%83%90%E3%83%A9%E3%83%B3%E3%82%B5%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90" class="blogstyle">ロードバランサーの作成</h3><p><a href="https://console.aws.amazon.com/ec2/v2/home#V2CreateELBWizard" target="_blank" rel="noopener">ロードバランサーの作成ウィザード<i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>を開く。</p><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h4 id="1%3A%20%E3%83%AD%E3%83%BC%E3%83%89%E3%83%90%E3%83%A9%E3%83%B3%E3%82%B5%E3%83%BC%E3%81%AE%E8%A8%AD%E5%AE%9A" class="blogstyle">1: ロードバランサーの設定</h4><p>以下のように設定する。</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">名前</td><td align="left">misskey</td></tr><tr><td align="left">IPアドレスタイプ</td><td align="left">dualstack</td></tr><tr><td align="left">ロードバランサーのプロトコル</td><td align="left">HTTP, HTTPS</td></tr><tr><td align="left">VPC</td><td align="left">（プルダウンから選択）</td></tr><tr><td align="left">アベイラビリティーゾーン</td><td align="left">全てチェックをつける</td></tr></tbody></table><p>[次の手順]を選択</p><h4 id="2%3A%20%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E8%A8%AD%E5%AE%9A%E3%81%AE%E6%A7%8B%E6%88%90" class="blogstyle">2: セキュリティ設定の構成</h4><ol><li>[ACM　から新しい証明書をリクエスト]を選択</li><li>新しいタブが開くので、<code class="language-javascript">example<span class="token punctuation">.</span>tld</code>（ドメイン）を入力、また[この証明書に別の名前を追加]を選択し<code class="language-javascript"><span class="token operator">*</span><span class="token punctuation">.</span>example<span class="token punctuation">.</span>tld</code>を入力</li><li><strong>DNS の検証</strong>を選択し[次へ]を選択</li><li>[確認]を選択</li><li>[確定とリクエスト]を選択</li><li><strong>▶ example.tld</strong>を選択し、使っているDNSに表示された設定を追加する</li><li>[続行]を選択</li><li>5分程度待つ</li><li>状況が<code class="language-javascript">発行済み</code>になったら、タブを閉じる</li><li>証明書の名前に先ほど発行した証明書が設定されているのを確認し、[次の手順]を選択</li></ol><h4 id="3%3A%20%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%81%AE%E8%A8%AD%E5%AE%9A" class="blogstyle">3: セキュリティグループの設定</h4><p><strong>新しい</strong>セキュリティグループを作成するを選択。</p><ul><li>セキュリティグループ名は<code class="language-javascript"><span class="token keyword">public</span></code>とする</li><li>タイプを変更する<ul><li>1つ目はHTTP</li><li>2つ目はHTTPS</li></ul></li></ul><p>[次の手順]を選択。</p><h4 id="4%3A%20%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%AE%E8%A8%AD%E5%AE%9A" class="blogstyle">4: ルーティングの設定</h4><p>名前を<code class="language-javascript">misskey</code>にし、[次の手順]を選択。</p><h4 id="5%3A%20%E3%82%BF%E3%83%BC%E3%82%B2%E3%83%83%E3%83%88%E3%81%AE%E7%99%BB%E9%8C%B2" class="blogstyle">5: ターゲットの登録</h4><p>ポートを<code class="language-javascript"><span class="token number">3000</span></code>とし、<strong>インスタンス</strong>から作成したインスタンスを選択し[登録済みに追加]を選択。<br>[次の手順]を選択。</p><h4 id="6%3A%20%E7%A2%BA%E8%AA%8D" class="blogstyle">6: 確認</h4><p>[作成]を選択。成功したら[閉じる]を選択。</p><h4 id="DNS%E3%82%92%E8%A8%AD%E5%AE%9A" class="blogstyle">DNSを設定</h4><p>お使いのDNSで、<code class="language-javascript">example<span class="token punctuation">.</span>tld</code>に<strong>CNAME</strong>として作成したロードバランサーの<strong>DNS 名</strong>を指定する。</p><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h3 id="SSH%E3%81%A7%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B" class="blogstyle">SSHで接続する</h3><p>ナビゲーションペインで[インスタンス]を選択し、作成したインスタンスの状態がrunningかつステータスチェックが「チェックに合格しました」となっていることを確認。なっていなければ待つ。</p><p>インスタンスのパブリックDNS（IPv4）をメモしよう。ここでは<code class="language-javascript">ec2<span class="token operator">-</span><span class="token number">13</span><span class="token operator">-</span>xxx<span class="token operator">-</span>xxx<span class="token operator">-</span>xxx<span class="token punctuation">.</span>ap<span class="token operator">-</span>northeast<span class="token operator">-</span><span class="token number">1.</span>compute<span class="token punctuation">.</span>amazonaws<span class="token punctuation">.</span>com</code>とする。</p><p>sshでEC2インスタンスに接続する。</p><pre class="language-javascript"><code class="language-bash">ssh ec2<span class="token operator">-</span>user@ec2<span class="token operator">-</span><span class="token number">13</span><span class="token operator">-</span>xxx<span class="token operator">-</span>xxx<span class="token operator">-</span>xxx<span class="token punctuation">.</span>ap<span class="token operator">-</span>northeast<span class="token operator">-</span><span class="token number">1.</span>compute<span class="token punctuation">.</span>amazonaws<span class="token punctuation">.</span>com <span class="token operator">-</span>i <span class="token operator">%</span><span class="token constant">USERPROFILE</span><span class="token operator">%</span>\<span class="token punctuation">.</span>ssh\key<span class="token punctuation">.</span>pem
</code></pre><p>Misskeyはrootで実行しない方がよいため、専用のユーザーを作成する。</p><pre class="language-javascript"><code class="language-bash">sudo adduser misskey
</code></pre><h3 id="Node.js" class="blogstyle">Node.js</h3><p>Node.jsは、サーバーサイドJavaScript環境であり、Misskeyの基本的な実行環境である。</p><pre class="language-javascript"><code class="language-bash">curl <span class="token operator">-</span>sL https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>rpm<span class="token punctuation">.</span>nodesource<span class="token punctuation">.</span>com<span class="token operator">/</span>setup_13<span class="token punctuation">.</span>x <span class="token operator">|</span> sudo bash <span class="token operator">-</span>
sudo yum update
sudo yum install <span class="token operator">-</span>y nodejs
</code></pre><p>Node.jsがインストールされたので、バージョンを確認する。</p><pre class="language-javascript"><code class="language-bash">node <span class="token operator">-</span>v
</code></pre><p><code class="language-javascript">v15<span class="token punctuation">.</span>x<span class="token punctuation">.</span>x</code>などと表示されればOK。v8など一桁台の数字が表示された場合は、お近くのAWSに詳しい方に助けを求めよう。</p><h3 id="Git%E3%81%9D%E3%81%AE%E4%BB%96" class="blogstyle">Gitその他</h3><p>Git（バージョン管理ソフト）などをインストールする。</p><pre class="language-javascript"><code class="language-bash">sudo yum install <span class="token operator">-</span>y git
sudo yum groupinstall <span class="token string">"Development Tools"</span>
</code></pre><h3 id="ffmpeg" class="blogstyle">ffmpeg</h3><p>シェルスクリプトを用意したので、それを実行する。<br>この作業には<strong>だいぶ時間がかかる</strong>ので、この間に<a href="#Misskey%E3%81%AE%E3%83%93%E3%83%AB%E3%83%89">ローカルでMisskeyのビルド</a>をしておこう。</p><pre class="language-javascript"><code class="language-bash">wget https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>gist<span class="token punctuation">.</span>githubusercontent<span class="token punctuation">.</span>com<span class="token operator">/</span>tamaina<span class="token operator">/</span><span class="token number">05</span>c9119260e55ceed36a87c6415935d3<span class="token operator">/</span>raw<span class="token operator">/</span>ecdb4862f4ad1426cf317baba508ce6cdf43e87f<span class="token operator">/</span>installFFmpegIntoAmazonLinux<span class="token punctuation">.</span>sh
sh installFFmpegIntoAmazonLinux<span class="token punctuation">.</span>sh
</code></pre><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h2 id="Misskey%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB" class="blogstyle">Misskeyのインストール</h2><p>引き続きMisskeyのインストールを行う。</p><p><code class="language-javascript">misskey</code>ユーザーに変更。</p><pre class="language-javascript"><code class="language-bash">sudo su <span class="token operator">-</span> misskey
</code></pre><p>Gitでファイル類を展開。</p><pre class="language-javascript"><code class="language-bash">git clone <span class="token operator">-</span>b master git<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>syuilo<span class="token operator">/</span>misskey<span class="token punctuation">.</span>git
cd misskey
git checkout master
</code></pre><h3 id="npm%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB" class="blogstyle">npmパッケージのインストール</h3><p>必要なnpmパッケージをインストール。</p><pre class="language-javascript"><code class="language-bash">npx yarn install
</code></pre><h3 id="default.yml%E3%82%92%E4%BD%9C%E6%88%90" class="blogstyle">default.ymlを作成</h3><p>設定ファイル<code class="language-javascript"><span class="token punctuation">.</span>config<span class="token operator">/</span><span class="token keyword">default</span><span class="token punctuation">.</span>yml</code>を作成。</p><pre class="language-javascript"><code class="language-bash">nano <span class="token punctuation">.</span>config<span class="token operator">/</span><span class="token keyword">default</span><span class="token punctuation">.</span>yml
</code></pre><p>次の内容を貼り付け、適宜置き換える。設定値の変更が必要な箇所は<code class="language-javascript">●</code>で、これまでの流れの中で設定した値を用いる箇所は<code class="language-javascript">〇</code>で示した。<br>この設定ファイルはYAML形式で書かれており、行頭のスペースの数などを間違えるとMisskeyが動かないので、特に注意すること。</p><p>設定できる値と記述方法は<a href="https://github.com/syuilo/misskey/blob/develop/.config/example.yml" target="_blank" rel="noopener"><code class="language-javascript"><span class="token punctuation">.</span>config<span class="token operator">/</span>example<span class="token punctuation">.</span>yml</code><i class="fa fas external-link-alt" data-fa-prefix="fas" data-fa-icon-name="external-link-alt" data-fa-option="{'classes':['fa-fw', 'fa-sm']}"></i></a>に書かれている。</p><pre class="language-javascript"><code class="language-yaml"># ● Misskeyを公開する<span class="token constant">URL</span>
url<span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">example.tld</span><span class="token regex-delimiter">/</span></span>

# 　 ポートを<span class="token number">3000</span>とする。
port<span class="token operator">:</span> <span class="token number">3000</span>

# ● <span class="token constant">RDS</span>の設定。
db<span class="token operator">:</span>
  # ●<span class="token operator">:</span> <span class="token constant">RDS</span>のエンドポイント
  host<span class="token operator">:</span> pg<span class="token punctuation">.</span>xxxxxxxx<span class="token punctuation">.</span>ap<span class="token operator">-</span>northeast<span class="token operator">-</span><span class="token number">1.</span>rds<span class="token punctuation">.</span>amazonaws<span class="token punctuation">.</span>com
  port<span class="token operator">:</span> <span class="token number">5432</span>
  db  <span class="token operator">:</span> mk1      # 〇 <span class="token constant">RDS</span>の最初のデータベース名
  user<span class="token operator">:</span> postgres # 〇 <span class="token constant">RDS</span>のマスターユーザー名
  pass<span class="token operator">:</span> password # ● <span class="token constant">RDS</span>のマスターパスワード

# ● ElastiCacheの設定。
redis<span class="token operator">:</span>
  # ●<span class="token operator">:</span> ElastiCacheのエンドポイント
  host<span class="token operator">:</span> redis<span class="token punctuation">.</span>xxxxxx<span class="token punctuation">.</span><span class="token number">0001.</span>apne0<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>amazonaws<span class="token punctuation">.</span>com
  port<span class="token operator">:</span> <span class="token number">6379</span>

# 　 <span class="token constant">ID</span>タイプの設定。
id<span class="token operator">:</span> <span class="token string">'aid'</span>
</code></pre><p>指定できたら保存する。</p><h3 id="Misskey%E3%81%AE%E3%83%93%E3%83%AB%E3%83%89" class="blogstyle">Misskeyのビルド</h3><p>t2.microではMisskeyはビルドできないため、<strong>ローカルで</strong>ビルドしたものを転送しよう。<br>Node.jsなので、Windowsでビルドしたものを適用できる。</p><ol><li>サーバーと同じバージョンのNode.jsをインストール</li><li>Gitでclone（<code class="language-javascript">git clone <span class="token operator">-</span>b master git<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>syuilo<span class="token operator">/</span>misskey<span class="token punctuation">.</span>git</code>）、もしくはGitHubからMisskeyのソースをダウンロードする</li><li>サーバーと同様の<code class="language-javascript"><span class="token punctuation">.</span>config<span class="token operator">/</span><span class="token keyword">default</span><span class="token punctuation">.</span>yml</code>を作成</li><li><code class="language-javascript">npx yarn install</code></li><li><code class="language-javascript"><span class="token constant">NODE_ENV</span><span class="token operator">=</span>production npm run build</code></li></ol><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><ul><li>PowerShellでは変数指定がこの方法でできないので、以下のようにする:<br><code class="language-javascript">$env<span class="token operator">:</span><span class="token constant">NODE_ENV</span><span class="token operator">=</span><span class="token string">"production"</span></code><br><code class="language-javascript">npm run build</code></li></ul><ol start="6"><li>sftpでコピーする。</li></ol><p>builtディレクトリを準備</p><pre class="language-javascript"><code class="language-bash"># <span class="token constant">SSH</span>
exit
mkdir built
</code></pre><p>ローカル環境からsftpでビルドしたファイルを転送</p><pre class="language-javascript"><code class="language-bash"># ローカル
sftp <span class="token operator">-</span>i <span class="token operator">%</span><span class="token constant">USERPROFILE</span><span class="token operator">%</span>\<span class="token punctuation">.</span>ssh\key<span class="token punctuation">.</span>pem ec2<span class="token operator">-</span>user@ec2<span class="token operator">-</span><span class="token number">13</span><span class="token operator">-</span>xxx<span class="token operator">-</span>xxx<span class="token operator">-</span>xxx<span class="token punctuation">.</span>ap<span class="token operator">-</span>northeast<span class="token operator">-</span><span class="token number">1.</span>compute<span class="token punctuation">.</span>amazonaws<span class="token punctuation">.</span>com<span class="token operator">:</span>built
sftp<span class="token operator">&gt;</span> put <span class="token operator">-</span>rf path<span class="token operator">/</span>to<span class="token operator">/</span>built
sftp<span class="token operator">&gt;</span> bye
</code></pre><p>サーバー内でコピー（一瞬で終わるが問題ない）</p><pre class="language-javascript"><code class="language-bash"># <span class="token constant">SSH</span>
sudo cp <span class="token operator">-</span>rf built <span class="token operator">/</span>home<span class="token operator">/</span>misskey<span class="token operator">/</span>misskey<span class="token operator">/</span>
sudo chown <span class="token operator">-</span><span class="token constant">R</span> misskey <span class="token operator">/</span>home<span class="token operator">/</span>misskey<span class="token operator">/</span>misskey<span class="token operator">/</span>built
</code></pre><h3 id="%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AE%E5%88%9D%E6%9C%9F%E5%8C%96" class="blogstyle">データベースの初期化</h3><pre class="language-javascript"><code class="language-bash">sudo su <span class="token operator">-</span> misskey
cd misskey
npm run init
</code></pre><h3 id="Misskey%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B" class="blogstyle">Misskeyを起動する</h3><pre class="language-javascript"><code class="language-bash"><span class="token constant">NODE_ENV</span><span class="token operator">=</span>production npm start
</code></pre><p><strong>Now listening on port 3000 on <a href="http://example.tld" target="_blank" rel="noopener">http://example.tld</a></strong> と表示されたら、設定したURLにアクセスする。</p><p>Misskeyのウェルカムページが表示されるはずだ。</p><p>アカウントの作成、ノートの作成やファイルのアップロードといった一通りの操作が正しく行えるか確認しよう。</p><ins class="adsbygoogle my-5" style="display:block; text-align:left;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1736621122676736" data-ad-slot="9247410221"></ins><h3 id="S3%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B" class="blogstyle">S3を設定する</h3><p><code class="language-javascript">インスタンス</code> &gt; <code class="language-javascript">設定</code> &gt; <code class="language-javascript">オブジェクトストレージ</code>で、<code class="language-javascript">オブジェクトストレージを使用</code>を有効にする。</p><p>以下の設定を行う。</p><table class="table table-sm table-bordered"><thead><tr><th align="left">説明</th><th align="left">値</th></tr></thead><tbody><tr><td align="left">URL</td><td align="left">xxxxxxxxxx.cloudfront.net</td></tr><tr><td align="left">バケット名</td><td align="left">example.tld</td></tr><tr><td align="left">プレフィックス</td><td align="left">m</td></tr><tr><td align="left">エンドポイント</td><td align="left">s3.ap-northeast-1.amazonaws.com</td></tr><tr><td align="left">リージョン</td><td align="left">ap-northeast-1</td></tr><tr><td align="left">ポート</td><td align="left">（空白）</td></tr><tr><td align="left">アクセスキー</td><td align="left">（ユーザー作成時にメモしたキー）</td></tr><tr><td align="left">シークレットキー</td><td align="left">（ユーザー作成時にメモしたキー）</td></tr></tbody></table><p>無料利用枠で収めようとするなら、リモートのファイルをキャッシュするトグルはオフにしておこう。</p><p>[保存]を選択し、設定を保存する。</p><h3 id="Misskey%E3%81%AE%E3%83%87%E3%83%BC%E3%83%A2%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90" class="blogstyle">Misskeyのデーモンを作成</h3><p>いったん<kbd>Ctrl+C</kbd>でプロセスをキルし、Misskeyをデーモンで起動する設定をしよう。</p><pre class="language-javascript"><code class="language-bash">exit
sudo nano <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>misskey<span class="token punctuation">.</span>service
</code></pre><p>次の内容を貼り付け、保存する。</p><pre class="language-javascript"><code class="language-ini"><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
Description<span class="token operator">=</span>Misskey daemon

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
Type<span class="token operator">=</span>simple
User<span class="token operator">=</span>misskey
ExecStart<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>npm start
WorkingDirectory<span class="token operator">=</span><span class="token operator">/</span>home<span class="token operator">/</span>misskey<span class="token operator">/</span>misskey
Environment<span class="token operator">=</span><span class="token string">"NODE_ENV=production"</span>
TimeoutSec<span class="token operator">=</span><span class="token number">60</span>
StandardOutput<span class="token operator">=</span>syslog
StandardError<span class="token operator">=</span>syslog
SyslogIdentifier<span class="token operator">=</span>misskey
Restart<span class="token operator">=</span>always

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
WantedBy<span class="token operator">=</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target
</code></pre><p>systemdを設定し、misskeyデーモンを開始。</p><pre class="language-javascript"><code class="language-bash">sudo systemctl daemon<span class="token operator">-</span>reload
sudo systemctl enable misskey
sudo systemctl start misskey
</code></pre><p>systemctlでデーモンの状態を確認。</p><pre class="language-javascript"><code class="language-bash">sudo systemctl status misskey
</code></pre><p>activeならOK。</p><p><strong>これでMisskeyのインストールはおおよそ完了だ。</strong></p><h2 id="%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E7%A8%AE%E3%80%85%E3%81%AE%E8%A8%AD%E5%AE%9A" class="blogstyle">インスタンスの種々の設定</h2><p>その他様々なインスタンスの設定があるが、インスタンス設定（<code class="language-javascript"><span class="token operator">/</span>instance<span class="token operator">/</span>settings</code>）にて設定できる内容とその方法を確認できる。</p><p>また、このサイトにもいくつかの記事があるので参考にしてほしい。<br><a href="../#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E5%80%8B%E5%88%A5%E8%A8%98%E4%BA%8B">→ <strong>開発者・運営者向け情報#その他の個別記事</strong></a></p></section><footer class="w-100"><div class="d-flex flex-wrap my-2 bg-light"><a class="p-3 flex-fill" href="/de/wiki/developers/email" id="next"><div class="container">Weiter: メールサーバーを設定する</div></a></div></footer></article><div class="small text-right mt-3"><a href="https://github.com/joinmisskey/joinmisskey.github.io/edit/pages/de/wiki/developers/installation/aws.md" target="_blank" rel="noopener"><i class="fa fas pencil-alt" data-fa-prefix="fas" data-fa-icon-name="pencil-alt" data-fa-option="{'classes':['fa-fw']}"></i>Diese Seite bearbeiten</a></div></div></div><div class="py-3 col-12 px-0 w-100 order-2 text-center"><ins class="adsbygoogle container p-0" style="display:block;" data-ad-client="ca-pub-1736621122676736" data-ad-slot="4446014841" data-ad-format="auto" data-full-width-responsive="false"></ins></div></div><div class="bg-white mt-2" id="footer"><div class="py-3" id="footer_wrap"><div class="container"><div class="d-flex justify-content-between flex-wrap small"><div>© 2018-2021 Misskey</div><!--.
.
.
--><div class="text-muted" id="updateTime">Zuletzt aktualisiert: 24. März 2021 12:02 JST </div><!--.
.
.
--><div><a href="https://github.com/syuilo/misskey" target="_blank" rel="noopener"><i class="fa fab github" data-fa-prefix="fab" data-fa-icon-name="github" data-fa-option="{'classes':['fa-fw']}"></i><span class="sr-only">GitHub</span>Misskey</a> <a href="https://github.com/joinmisskey/joinmisskey.github.io" target="_blank" rel="noopener"><i class="fa fab github" data-fa-prefix="fab" data-fa-icon-name="github" data-fa-option="{'classes':['fa-fw']}"></i><span class="sr-only">GitHub</span>joinmisskey</a> <a href="https://misskey.io/@joinmisskey" target="_blank" rel="noopener"><svg aria-hidden="true" focusable="false" role="img" class="svg-inline--fa fa-w-16 fa-fw" version="1.1" viewBox="0 0 225.24 256.53" xmlns="http://www.w3.org/2000/svg"><path d="m112.63 0c-4.0923 0-7.873 2.183-9.9199 5.7266-5.7762 10.005-12.904 22.35-18.006 31.187-4.1125 7.1231-4.1125 15.896 0 23.02 5.0963 8.8286 12.217 21.157 17.99 31.158 2.0498 3.5493 5.836 5.7363 9.9355 5.7363s7.8877-2.187 9.9375-5.7363c5.7734-10.001 12.891-22.328 17.988-31.158 4.1125-7.1216 4.1125-15.896 0-23.02-5.1021-8.8372-12.228-21.182-18.006-31.187-2.0454-3.5435-5.8276-5.7266-9.9199-5.7266zm0 8.6426c1.0054 0 1.9328 0.53621 2.4356 1.4062l18.006 31.186c2.5683 4.4481 2.5683 9.9288 0 14.377-5.0978 8.83-12.215 21.157-17.99 31.158-0.5056 0.8758-1.44 1.416-2.4512 1.416s-1.9456-0.54022-2.4512-1.416c-5.7734-10.001-12.891-22.328-17.988-31.156-2.5683-4.4496-2.5683-9.9308 0-14.379 5.1021-8.8372 12.228-21.18 18.004-31.186 0.50272-0.87004 1.4315-1.4062 2.4355-1.4062zm101.13 49.76c-11.553 3.46e-4 -25.805 0.001897-36.01 0.001953-8.225-2e-6 -15.823 4.3867-19.936 11.51-5.0976 8.8278-12.216 21.156-17.99 31.156-2.0489 3.5498-2.0498 7.9243 0 11.475 2.0498 3.5503 5.8388 5.7378 9.9375 5.7383 11.548-6.8e-4 25.783-0.00176 35.979-0.00195 8.2238 7.2e-4 15.823-4.3867 19.936-11.51 5.1022-8.8371 12.23-21.179 18.006-31.186 2.0461-3.5432 2.0462-7.911 0-11.455-2.0462-3.5441-5.8296-5.7276-9.9219-5.7285zm-202.27 0.02539c-4.0915-3.53e-4 -7.8738 2.1844-9.9199 5.7285-2.0462 3.5441-2.0453 7.9107 0 11.455 5.7768 10.005 12.904 22.348 18.006 31.186 4.1125 7.123 11.712 11.51 19.938 11.51 10.194 7.3e-4 24.429-6.7e-4 35.977 0 4.0987-5e-4 7.8877-2.186 9.9375-5.7363 2.0498-3.5503 2.0489-7.9248 0-11.475-5.7745-10-12.892-22.328-17.99-31.158-4.1112-7.1223-11.711-11.51-19.936-11.51-10.204-5.7e-5 -24.458-9.03e-4 -36.012 0zm27.98 79.814c-8.225-1e-5 -15.825 4.3887-19.938 11.512-5.0976 8.8278-12.214 21.156-17.988 31.156-2.0489 3.5498-2.0498 7.9224 0 11.473 2.0498 3.5503 5.8388 5.7378 9.9375 5.7383 11.548-6.8e-4 25.783 1.9e-4 35.979 0 8.2238 7.2e-4 15.823-4.3867 19.936-11.51 5.1022-8.8371 12.228-21.181 18.004-31.188 2.0461-3.5432 2.0462-7.911 0-11.455-2.0462-3.5441-5.8277-5.7257-9.9199-5.7266-11.553 3.4e-4 -25.805-6e-5 -36.01 0zm110.3 0.02343c-4.0915-3.4e-4 -7.8738 2.1844-9.9199 5.7285s-2.0473 7.9107-0.00196 11.455c5.7768 10.005 12.904 22.348 18.006 31.186 4.1125 7.1231 11.712 11.51 19.938 11.51 10.194 7.3e-4 24.429-6.7e-4 35.977 0 4.0986-5e-4 7.8877-2.186 9.9375-5.7363 2.0498-3.5503 2.0489-7.9248 0-11.475-5.7745-10-12.892-22.328-17.99-31.158-4.1112-7.1223-11.711-11.51-19.936-11.51-10.204-5e-5 -24.456-8.9e-4 -36.01 0zm-110.3 8.6192c10.204-6e-5 24.457 3.4e-4 36.01 0 1.0048 3.5e-4 1.9335 0.53676 2.4355 1.4062 0.50272 0.87074 0.50211 1.9421 0 2.8125l-18.004 31.186c-2.568 4.4483-7.3148 7.1896-12.451 7.1895-10.196 2e-4 -24.43-0.00139-35.979-0.00196-1.0113 4e-5 -1.9475-0.53833-2.4531-1.4141-0.5056-0.87572-0.50566-1.9563 0-2.832 5.7745-10 12.891-22.327 17.988-31.156 2.5693-4.449 7.3168-7.1896 12.453-7.1894zm110.3 0.02343h36.01c5.1364-1.8e-4 9.8832 2.7412 12.451 7.1895 5.0981 8.8298 12.216 21.157 17.99 31.158 0.50566 0.87576 0.5056 1.9544 0 2.8301-0.5056 0.87573-1.4419 1.416-2.4531 1.416-11.548-6.7e-4 -25.782-5.2e-4 -35.977 0-5.1376-5.4e-4 -9.8851-2.7411-12.453-7.1894-5.1022-8.8372-12.227-21.18-18.004-31.186-0.50211-0.87039-0.502-1.943 0-2.8125 0.50271-0.87073 1.4307-1.4059 2.4356-1.4062zm-37.154 12.793c-4.0923 0-7.875 2.183-9.9219 5.7266-5.7762 10.005-12.902 22.35-18.004 31.188-4.1125 7.1231-4.1125 15.896 0 23.02 5.0963 8.8286 12.215 21.157 17.988 31.158 2.0498 3.5493 5.838 5.7363 9.9375 5.7363s7.8877-2.187 9.9375-5.7363c5.7734-10.001 12.891-22.328 17.988-31.158 4.1125-7.1216 4.1125-15.896 0-23.02-5.1021-8.8372-12.228-21.182-18.006-31.188-2.0454-3.5435-5.8276-5.7266-9.9199-5.7266z" fill="currentColor"/></svg><span class="sr-only">Misskey</span></a> <a href="/feed.rss" target="_blank" rel="noopener"><i class="fa fas rss" data-fa-prefix="fas" data-fa-icon-name="rss" data-fa-option="{'classes':['fa-fw']}"></i><span>RSS</span></a> <a href="/feed.json" target="_blank" rel="noopener"><i class="fa fas rss" data-fa-prefix="fas" data-fa-icon-name="rss" data-fa-option="{'classes':['fa-fw']}"></i><span>JSON</span></a> <a href="/feed.atom" target="_blank" rel="noopener"><i class="fa fas rss" data-fa-prefix="fas" data-fa-icon-name="rss" data-fa-option="{'classes':['fa-fw']}"></i><span>Atom</span></a></div></div></div></div></div></body></html>